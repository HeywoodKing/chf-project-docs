<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>浇水动画</title>
    <link rel="stylesheet" href="assets/css/watering.css">
    <script src="http://zeptojs.com/zepto.min.js"></script>
</head>

<body>
    <div class="box">
        <div class="tree"></div>
        <div class="bottle" alt="a-watering"></div>
        <div class="rain-box">
            <ul class="line line1">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
            </ul>
            <ul class="line line2">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
            </ul>
            <ul class="line line3">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
            </ul>
        </div>
        <input type="button" id="btn" value="浇水" />
    </div>
    <script>
    $(function() {

        $('#btn').click(function() {
            $('.bottle').show().addClass('bottle-fadeIn');

            $('.bottle').on('webkitAnimationEnd', function() {
                $(this).removeClass('bottle-fadeIn');
                $('.line li').addClass('a-watering');
            });

            $('.line li').on('webkitAnimationEnd', function() {
                $('.bottle').hide();
                $('.line li').removeClass('a-watering');
                $('.tree').addClass('a-swing');
            });

            $('.tree').on('webkitAnimationEnd', function() {
                // $('.tree').css({ '-webkit-transform': 'scale(1.2,1.2)' });
                $('.tree').removeClass('a-swing');
            });

            // setTimeout(function(){
            //     $('.line li').addClass('a-watering');
            // },800);
            // setTimeout(function(){
            //     $('.bottle').hide();
            //     $('.tree').addClass('a-swing');
            // },2300);
            // setTimeout(function(){
            //     $('.line li').removeClass('a-watering');
            //     $('.tree').removeClass('a-swing');
            //     $('.tree').css({'-webkit-transform':'scale(1.2,1.2)'});
            // },3300);

        });
    });
    </script>
</body>

</html>